<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PromptCtl Quick Capture</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“ PromptCtl</h1>
      <p class="subtitle">Quick Capture + DSPy</p>
    </div>
    
    <div class="status" id="status">
      <span class="status-dot" id="statusDot"></span>
      <span id="statusText">Checking connection...</span>
    </div>
    
    <!-- Tab Navigation -->
    <div class="tabs">
      <button class="tab active" data-tab="capture">Capture</button>
      <button class="tab" data-tab="prompts">Prompts</button>
      <button class="tab" data-tab="jobs">Jobs</button>
    </div>
    
    <!-- Capture Tab -->
    <div class="tab-content active" id="tab-capture">
      <div class="form">
        <div class="form-group">
          <label for="promptText">Prompt Text</label>
          <textarea 
            id="promptText" 
            placeholder="Enter prompt or select text on page..."
            rows="5"
          ></textarea>
        </div>
        
        <div class="form-group">
          <label for="promptName">Name (optional)</label>
          <input 
            type="text" 
            id="promptName" 
            placeholder="my-prompt"
          >
        </div>
        
        <div class="form-group">
          <label for="promptTags">Tags (comma-separated)</label>
          <input 
            type="text" 
            id="promptTags" 
            placeholder="web, research, ai"
          >
        </div>
        
        <div class="form-group checkbox-group">
          <label>
            <input type="checkbox" id="autoTag">
            Auto-tag from domain
          </label>
          <label>
            <input type="checkbox" id="autoOptimize">
            Auto-optimize with DSPy
          </label>
        </div>
        
        <div class="button-row">
          <button id="saveBtn" class="save-btn">
            ğŸ’¾ Save
          </button>
          <button id="saveOptimizeBtn" class="optimize-btn">
            ğŸš€ Save & Optimize
          </button>
        </div>
        
        <div class="message" id="message"></div>
      </div>
    </div>
    
    <!-- Prompts Tab -->
    <div class="tab-content" id="tab-prompts">
      <div class="list-header">
        <input type="text" id="promptSearch" placeholder="Search prompts...">
        <button id="refreshPrompts" class="icon-btn">ğŸ”„</button>
      </div>
      <div class="prompts-list" id="promptsList">
        <p class="loading">Loading prompts...</p>
      </div>
    </div>
    
    <!-- Jobs Tab -->
    <div class="tab-content" id="tab-jobs">
      <div class="list-header">
        <span class="list-title">Background Jobs</span>
        <button id="refreshJobs" class="icon-btn">ğŸ”„</button>
      </div>
      <div class="jobs-list" id="jobsList">
        <p class="loading">Loading jobs...</p>
      </div>
    </div>
    
    <div class="footer">
      <p>Shortcut: <kbd>Ctrl+Shift+S</kbd> to save selection</p>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>
